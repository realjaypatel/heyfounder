{% include 'includes/topbar.html' %}
  <!-- Bootstrap + jQuery (required for Summernote) -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

  <!-- Summernote CSS + JS -->
  <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote.min.js"></script>

<header class="masthead" style="background-image: url('/static/assets/img/about-bg.jpg')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="site-heading">
                            <h1>Create a Post</h1>
                            <span class="subheading">Powered by One Link</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
<form action="/blog_form/submit-blog" method="POST" id="form">

  <div class="form-group">
    <label for="title">Blog Title:</label>
    <input type="text" class="form-control" id="title" name="title" placeholder="Man must explore, and this is exploration at its greatest" required>
  </div>
  <div class="form-group">
    <label for="headline">Blog headline:</label>
    <input type="text" class="form-control" id="headline" name="headline" placeholder="Problems look mighty small from 150 miles up" required>
  </div>
  <div class="form-group">
    <label for="author">Blog author:</label>
    <input type="text" class="form-control" id="author" name="author" placeholder="John Doe, by default " >
  </div>
    <div class="form-group">
      <label for="content">Blog Content:</label>
      <textarea id="content" name="content" class="form-control"></textarea>
    </div>
  <div class="form-group">
    <label for="tags">Blog tags:</label>
    <input type="text" class="form-control" id="tags" name="tags" placeholder="NASA, Space, Science" required>
  </div>
  <div class="form-group">
    <label for="bgimg">Blog bgimg:</label>
    <input type="file" class="form-control" id="bgimg_file" accept="image/*">
  
    <input type="hidden" id="bgimg" name="bgimg">
  
  </div>
  


  <input type="submit" value="Publish Blog">
</form>



<style>
#form {
  margin: 10px auto;        /* Vertically pushes it down and centers horizontally */
  max-width: 600px;          /* Fixed maximum width for better readability */
  padding: 20px;             /* Adds space inside the form */
  border: 1px solid #ccc;    /* Optional: adds a light border */
  border-radius: 8px;        /* Optional: rounds the corners */
  background-color: #f9f9f9; /* Optional: light background color */
  box-shadow: 0 2px 8px rgba(0,0,0,0.1); /* Optional: subtle shadow */
}
    textarea {
      min-height: 200px;
    }
</style>
  <script>
    $(document).ready(function() {
      $('#content').summernote({
        height: 250
      });

      $('#blogForm').on('submit', function(e) {
        e.preventDefault();
        const title = $('#title').val();
        const content = $('#content').val(); // summernote HTML content

        $('#result').text(
          'Title: ' + title + '\n\nContent (HTML):\n' + content
        );

        // Send via AJAX or let the form submit if needed
      });
    });
  </script>

<script>
  $(document).ready(function() {
    $('#content').summernote({ height: 250 });

    // Convert uploaded image to base64
    $('#bgimg_file').on('change', function(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          $('#bgimg').val(e.target.result); // set base64 string into hidden input
        };
        reader.readAsDataURL(file); // converts to base64
      }
    });

    // Optional: prevent default if you want to test before submitting
    // $('#form').on('submit', function(e) {
    //   e.preventDefault();
    //   console.log('Base64 image:', $('#bgimg').val());
    // });
  });
</script>
{% include 'includes/footer.html' %}
